/*!
 * name: @feizheng/next-node-fetch
 * description: A wrapper for `node-fetch`.
 * url: https://github.com/afeiship/next-node-fetch
 * version: 1.0.3
 * date: 2020-01-04 16:46:42
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),p=e.nx||require("@feizheng/next-js-core2"),h=require("@feizheng/next-data-transform"),f=require("@feizheng/next-content-type"),c=require("@feizheng/next-deep-assign"),l=require("@feizheng/next-param"),x=require("node-fetch"),y={dataType:"json",responseType:"json"},n=p.declare("nx.NodeFetch",{statics:{request:function(e,n,t,r){var u=p.mix(null,y,r),o="get"===n,i=o?null:h[u.dataType](t),s=o?e+"?"+l(t):e,a={"Content-Type":f(u.dataType)},d=c({method:n,body:i,headers:a},u);return x(s,d).then(function(e){return u.responseType?e[u.responseType]():e})},"get,delete,head,post,put,patch":function(r){return function(e,n,t){return 2===arguments.length?this.request(e,r,null,t):this.request(e,r,n,t)}}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();
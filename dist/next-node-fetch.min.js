/*!
 * name: @feizheng/next-node-fetch
 * description: A wrapper for `node-fetch`.
 * url: https://github.com/afeiship/next-node-fetch
 * version: 1.0.0
 * date: 2020-01-04 14:34:09
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),h=e.nx||require("@feizheng/next-js-core2"),f=require("@feizheng/next-data-transform"),a=require("@feizheng/next-content-type"),c=require("@feizheng/next-deep-assign"),x=require("@feizheng/next-param"),l=require("node-fetch"),y={type:"json",responseType:"text"},t=h.declare("nx.NodeFetch",{statics:{request:function(e,t,n,r){var u=h.mix(null,y,r),i="get"===t,o=i?null:f[u.type](n),s=i?e+"?"+x(n):e,p={"Content-Type":a(u.type)},d=c({method:t,body:o,headers:p},u);return l(s,d).then(function(e){return e[u.responseType]()})},"get,delete,head,post,put,patch":function(r){return function(e,t,n){return this.request(e,r,t,n)}}}});"undefined"!=typeof module&&module.exports&&(module.exports=t)}();